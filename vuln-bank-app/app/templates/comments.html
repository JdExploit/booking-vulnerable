{% extends "base.html" %}

{% block title %}Customer Comments - SecureBank{% endblock %}

{% block content %}
    <h2>Customer Comments (XSS Test)</h2>
    
    {% if message %}
        <p style="color: green; font-weight: bold; text-align: center;">{{ message }}</p>
    {% endif %}

    <div class="comments-section">
        {% if comments %}
            {% for comment in comments %}
                <div class="comment">
                    {{ comment|safe }}
                </div>
            {% endfor %}
        {% else %}
            <p class="no-comments">No comments yet. Be the first to leave one!</p>
        {% endif %}
    </div>

    <div class="add-comment">
        <h3>Add Comment</h3>
        <form action="/post_comment" method="POST">
            <textarea name="comment" rows="4" placeholder="Your comment... Try a simple <b>HTML tag</b> or an XSS payload like <script>alert(1)</script>." required></textarea>
            <button type="submit">Submit Comment</button>
        </form>
    </div>

{% endblock %}
