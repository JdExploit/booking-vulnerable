{% extends "base.html" %}

{% block title %}Home - SecureBank{% endblock %}

{% block content %}
    
    <div class="container">
        <h2>Welcome to SecureBank</h2>
        <p>Your trusted banking partner since 2025</p>
        
        <div class="features">
            <div class="feature">
                <h3>Online Banking</h3>
                <p>Manage your accounts securely</p>
            </div>
            <div class="feature">
                <h3>Money Transfers</h3>
                <p>Send money instantly</p>
            </div>
            <div class="feature">
                <h3>Investment</h3>
                <p>Grow your wealth</p>
            </div>
        </div>

        
        <div class="recent-comments">
            <h3>Recent Comments:</h3>
            <div class="comments-preview">
                {# La variable 'comments' debe ser pasada por la función index() en app.py #}
                {% if comments %}
                    {# Mostrar los últimos 5 comentarios #}
                    {% for comment in comments[-5:] %}
                        <div class="comment-preview">
                            {# ATENCIÓN: Esta línea (comment|safe) es la VULNERABILIDAD XSS #}
                            {{ comment|safe }}
                        </div>
                    {% endfor %}
                {% else %}
                    <p>No recent comments yet.</p>
                {% endif %}
            </div>
            <p><a href="/comments">View all comments</a></p>
        </div>
        
        <div class="comment-section">
            <h3>Customer Comments</h3>
            <form action="/comment" method="POST">
                <textarea name="comment" placeholder="Leave a comment..."></textarea>
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>
{% endblock %}
